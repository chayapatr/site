---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import ExpandedList from "../components/ExpandedList.svelte";
import List from "../components/List.svelte";

const works = {
  codes: {
    text: "codes & crafts",
    list: [
      {
        name: "oknize [🚧 wip]",
        org: ["creatorsgarten"],
        link: "",
        year: 2023,
      },
      { name: "thaiui [🚧 wip]", org: [], link: "", year: 2023 },
      {
        name: "cluster.wiki [🚧 wip]",
        org: ["creatorsgarten"],
        link: "",
        year: 2023,
      },
      { name: "contentsgarten", org: ["creatorsgarten"], link: "", year: 2022 },
      {
        name: "messe",
        org: ["spaceth"],
        link: "messe",
        year: 2020,
      },
    ],
  },
  peoples: {
    text: "communities & collaborations",
    list: [
      { name: "garden zero", org: ["creatorsgarten"], link: "", year: 2023 },
      { name: "bangkok art council [🚧 wip]", org: [], link: "", year: 2023 },
    ],
  },
  contents: {
    text: "contents",
    list: [
      {
        name: "thaipbs: starstuff เรื่องเล่าจากดวงดาว",
        org: ["spaceth"],
        link: "",
        year: 2022,
      },
      {
        name: "chasing new horizons (thai translation)",
        org: [],
        link: "",
        year: 2022,
      },
      {
        name: "futuretales lab: future of space movement",
        org: ["spaceth"],
        link: "",
        year: 2022,
      },
    ],
  },
  events: {
    text: "event-based projects",
    list: [
      {
        expand: "hackathons & competitions",
        list: [
          {
            name: "bangkok open source hackathon",
            org: ["creatorsgarten", "bma"],
            link: "",
            year: 2023,
          },
          {
            name: "ai space challenge",
            org: ["spaceth"],
            link: "",
            year: 2022,
          },
        ],
      },
      {
        expand: "antidisciplinary meetups",
        list: [
          {
            name: `"sciยศาสตร์": superstition night in the science month`,
            org: ["spaceth", "bma"],
            link: "",
            year: 2022,
          },
          {
            name: "how to learn (almost) anything",
            org: ["spaceth"],
            link: "",
            year: 2022,
          },
        ],
      },
      { name: "hacktoberfest thailand series", org: [], link: "", year: 2019 },
      {
        name: "stupid hackathon thailand series",
        org: ["creatorsgarten"],
        link: "",
        year: 2017,
      },
    ],
  },
  arts: {
    text: "arts & lives",
    list: [
      {
        name: "algorave [🚧 wip]",
        org: ["creatorsgarten"],
        link: "",
        year: 2022,
      },
      {
        name: "instrument not allowed [🚧 wip]",
        org: ["spaceth"],
        link: "messe",
        year: 2020,
      },
      { name: "pds band contest", org: ["🏫"], link: "", year: 2020 },
      { name: "forgotten, a theatrical play", org: [], link: "", year: 2020 },
    ],
  },
  side: {
    text: "personal side projects",
    list: [
      { name: "tea interpreter [🚧 wip]", org: [], link: "", year: 2023 },
      { name: "algorithm visualizer [🚧 wip]", org: [], link: "", year: 2023 },
      { name: "century per dot", org: [], link: "", year: 2021 },
    ],
  },
};

const org = {
  spaceth: "🪐",
  creatorsgarten: "🏕️",
  bma: "🏙️",
};

const orgMap = (x) => {
  return x.map((y) => org[y] ?? y);
};
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <Header title={SITE_TITLE} />
    <main class="pc grid gap-8">
      <h1 class="text-3xl border-y border-black py-3 font-medium">
        👾 pub's works
      </h1>
      <div class="flex flex-wrap gap-3 text-lg">
        <div>
          🏕️ → <a href="" class="px-1">creatorsgarten</a>
        </div>
        <div>🪐 → <a href="" class="px-1">spaceth.co</a></div>
        <div>
          🏙️ → <a href="" class="px-1">bangkok metropolitan administration</a>
        </div>
        <div>
          🏫 → <a href="" class="px-1">patumwan demonstration school</a>
        </div>
      </div>
      {
        Object.entries(works).map(([k, v]: any) => {
          return (
            <div>
              <h2 class="text-2xl font-medium mb-3" id={k}>
                {v.text}
              </h2>
              <ul class="grid gap-5">
                {v.list.map((x: any) => {
                  return (
                    <div>
                      {x.expand ? (
                        <div>
                          <ExpandedList
                            title={x.expand}
                            list={x.list.map((y) => {
                              return {
                                l: y.name,
                                r1: orgMap(y.org).join(" | "),
                                r2: y.year,
                              };
                            })}
                            client:visible
                          />
                        </div>
                      ) : (
                        <List
                          l={x.name}
                          r1={orgMap(x.org).join(" | ")}
                          r2={x.year}
                        />
                      )}
                    </div>
                  );
                })}
              </ul>
            </div>
          );
        })
      }
    </main>
    <Footer />
  </body>
</html>
